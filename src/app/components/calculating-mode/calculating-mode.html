<div class="calculating-mode">
  <h2>Calculating Mode</h2>

  @if (gameState.currentPlayer(); as player) {
    <div class="current-player-info">
      <h3>{{ player.name }}'s Turn</h3>
      <p class="remaining-score">Remaining: <strong>{{ player.currentScore }}</strong> points</p>
    </div>

    <div class="score-input-section">
      <label for="score-input">Enter your round score:</label>
      <input
        id="score-input"
        type="number"
        min="0"
        max="180"
        placeholder="0-180"
        [ngModel]="scoreInput()"
        (ngModelChange)="scoreInput.set($event)"
        (keyup.enter)="submitScore()" />

      @if (errorMessage()) {
        <div class="error-message">{{ errorMessage() }}</div>
      }

      <button class="submit-btn" (click)="submitScore()">
        Submit Score
      </button>
    </div>

    <div class="quick-scores">
      <h4>Quick Scores</h4>
      <div class="quick-score-grid">
        <button (click)="quickScore(26)">26</button>
        <button (click)="quickScore(41)">41</button>
        <button (click)="quickScore(45)">45</button>
        <button (click)="quickScore(60)">60</button>
        <button (click)="quickScore(81)">81</button>
        <button (click)="quickScore(85)">85</button>
        <button (click)="quickScore(100)">100</button>
        <button (click)="quickScore(180)">180</button>
      </div>
    </div>
  }
</div>
