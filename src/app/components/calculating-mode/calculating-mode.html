<div class="calculating-mode">
  <h2>Calculating Mode</h2>

  @if (gameState.currentPlayer(); as player) {
    <div class="current-player-info">
      <h3>{{ player.name }}'s Turn</h3>
      <p class="remaining-score">Remaining: <strong>{{ player.currentScore }}</strong> points</p>
    </div>

    <div class="score-input-section">
      <label>Enter your round score:</label>
      <div class="display">
        {{ displayValue() || '0' }}
      </div>

      @if (errorMessage()) {
        <div class="error-message">{{ errorMessage() }}</div>
      }
    </div>

    <div class="numpad">
      <button class="numpad-btn" (click)="appendDigit('7')">7</button>
      <button class="numpad-btn" (click)="appendDigit('8')">8</button>
      <button class="numpad-btn" (click)="appendDigit('9')">9</button>

      <button class="numpad-btn" (click)="appendDigit('4')">4</button>
      <button class="numpad-btn" (click)="appendDigit('5')">5</button>
      <button class="numpad-btn" (click)="appendDigit('6')">6</button>

      <button class="numpad-btn" (click)="appendDigit('1')">1</button>
      <button class="numpad-btn" (click)="appendDigit('2')">2</button>
      <button class="numpad-btn" (click)="appendDigit('3')">3</button>

      <button class="numpad-btn clear-btn" (click)="clear()">C</button>
      <button class="numpad-btn" (click)="appendDigit('0')">0</button>
      <button class="numpad-btn backspace-btn" (click)="backspace()">‚Üê</button>

      <button class="submit-btn" (click)="submitScore()">Submit Score</button>
    </div>
  }
</div>
